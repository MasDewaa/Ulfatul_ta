services:
  jpl-monitoring:
    build: .
    container_name: jpl-monitoring-app
    ports:
      - "${WEB_PORT}:80"
    env_file:
      - .env
    environment:
      - DB_HOST=${DB_HOST}
      - DB_PORT=${DB_PORT}
      - DB_NAME=${DB_NAME}
      - DB_USER=${DB_USER}
      - DB_PASSWORD=${DB_PASSWORD}
      - DB_TYPE=${DB_TYPE}
      - APP_NAME=${APP_NAME}
      - APP_ENV=${APP_ENV}
      - APP_DEBUG=${APP_DEBUG}
      - APP_URL=${APP_URL}
      - SESSION_SECRET=${SESSION_SECRET}
      - ENCRYPTION_KEY=${ENCRYPTION_KEY}
      - MONITORING_INTERVAL=${MONITORING_INTERVAL}
      - ALERT_EMAIL=${ALERT_EMAIL}
      - UPLOAD_MAX_SIZE=${UPLOAD_MAX_SIZE}
      - ALLOWED_FILE_TYPES=${ALLOWED_FILE_TYPES}
      - LOG_LEVEL=${LOG_LEVEL}
      - LOG_FILE=${LOG_FILE}
    networks:
      - monitoring-jpl-network
    volumes:
      - ./uploads:/var/www/html/uploads
      - ./logs:/var/log
    restart: unless-stopped

networks:
  monitoring-jpl-network:
    external: true 